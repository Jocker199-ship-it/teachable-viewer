<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Teachable Machine: –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏</title>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
  <style>
    body { font-family: sans-serif; }
    #status { margin-top: 10px; font-weight: bold; }
    #results { margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Teachable Machine: –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏</h1>
  <p>–í—ã–±–µ—Ä–∏—Ç–µ 3 —Ñ–∞–π–ª–∞, —Å–∫–∞—á–∞–Ω–Ω—ã–µ –∏–∑ Teachable Machine:</p>
  <ul>
    <li><strong>model.json</strong></li>
    <li><strong>metadata.json</strong></li>
    <li><strong>weights.bin</strong></li>
  </ul>

  <label>model.json: <input type="file" id="model-file" /></label><br>
  <label>metadata.json: <input type="file" id="metadata-file" /></label><br>
  <label>weights.bin: <input type="file" id="weights-file" /></label><br><br>

  <button onclick="loadModel()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å</button>

  <div id="status">üïì –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏‚Ä¶</div>
  <div id="results"></div>

  <script>
    let model;

    async function loadModel() {
      const modelInput = document.getElementById('model-file').files[0];
      const metadataInput = document.getElementById('metadata-file').files[0];
      const weightsInput = document.getElementById('weights-file').files[0];

      if (!modelInput || !metadataInput || !weightsInput) {
        document.getElementById('status').innerHTML = "‚ùå –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ç—Ä–∏ —Ñ–∞–π–ª–∞.";
        return;
      }

      const modelURL = URL.createObjectURL(modelInput);
      const metadataURL = URL.createObjectURL(metadataInput);
      const weightsURL = URL.createObjectURL(weightsInput);

      try {
        model = await tmImage.load(modelURL, metadataURL);
        document.getElementById('status').innerHTML = "‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞!";
        // –í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ –∫–æ–¥ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
      } catch (err) {
        console.error(err);
        document.getElementById('status').innerHTML = "‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏: " + err.message;
      }
    }
  </script>
</body>
</html>
