<!DOCTYPE html>
<html>
  <head>
    <title>Teachable Machine Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
  </head>
  <body>
    <h1>Teachable Machine Viewer</h1>
    <p>Paste your model URL:</p>
    <input type="text" id="model-url" size="60" placeholder="Link to model.json">
    <button onclick="loadModel()">Load Model</button>

    <script type="text/javascript">
      async function loadModel() {
        let url = document.getElementById('model-url').value.trim();

        // если вставлен прямой путь до model.json, обрезаем до директории
        if (url.endsWith('model.json')) {
          url = url.slice(0, url.lastIndexOf('/') + 1);
        }

        const modelURL = url + "model.json";
        const metadataURL = url + "metadata.json";

        const model = await tmImage.load(modelURL, metadataURL);
        console.log("Model loaded", model);

        alert("Model loaded successfully!");
        // Здесь можно добавить UI для тестирования, если нужно
      }
    </script>
  </body>
</html>
